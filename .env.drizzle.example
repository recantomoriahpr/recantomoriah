# =====================================================
# DRIZZLE ORM - DATABASE CONFIGURATION
# =====================================================
# 
# Este arquivo contém a configuração necessária para
# conectar ao banco PostgreSQL via Drizzle ORM
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .env
# 2. Substitua os valores entre { } com suas credenciais
# 3. Nunca commite o .env ao Git
# =====================================================

# PostgreSQL Connection String (Supabase)
# Formato: postgresql://postgres.{ref}:{password}@{host}:{port}/postgres
DATABASE_URL="postgresql://postgres:recantomoriah@db.rnjoooffhhutebmtazdx.supabase.co:5432/postgres"

# =====================================================
# COMO OBTER A DATABASE_URL:
# =====================================================
# 
# 1. Acesse: https://app.supabase.com
# 2. Selecione seu projeto Moriah
# 3. Vá em: Settings → Database
# 4. Na seção "Connection string", copie a URI
# 5. Substitua [YOUR-PASSWORD] pela sua senha
# 
# EXEMPLO REAL:
# DATABASE_URL="postgresql://postgres.abcdefghijklmnop:SuaSenhaAqui123@aws-0-us-east-1.pooler.supabase.com:5432/postgres?sslmode=require"
# 
# =====================================================

# =====================================================
# ALTERNATIVA: Connection Pooler (Produção)
# =====================================================
# 
# Para ambientes de alta concorrência, use a porta 6543:
# DATABASE_URL="postgresql://postgres.{project-ref}:{password}@aws-0-{region}.pooler.supabase.com:6543/postgres?pgbouncer=true"
# 
# =====================================================

# =====================================================
# CONFIGURAÇÕES SUPABASE (mantidas para compatibilidade)
# =====================================================

SUPABASE_URL=https://{your-project-ref}.supabase.co
SUPABASE_ANON_KEY={your-anon-key}
SUPABASE_SERVICE_ROLE={your-service-role-key}

# =====================================================
# NODE ENVIRONMENT
# =====================================================

NODE_ENV=development
# NODE_ENV=production

# =====================================================
# API SERVER
# =====================================================

PORT=8080
CORS_ORIGIN=http://localhost:5173,https://recantomoriah.com

# =====================================================
# VERIFICAÇÃO
# =====================================================
# 
# Para testar a conexão:
# npx tsx test-db.ts
# 
# Se aparecer "✅ Database connection successful", está tudo OK!
# =====================================================
